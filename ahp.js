"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),Node=function(){function e(n){_classCallCheck(this,e),this.name=n,this.parents=[],this.children=[]}return _createClass(e,[{key:"addChild",value:function(){for(var e=this,n=arguments.length,a=Array(n),t=0;n>t;t++)a[t]=arguments[t];a.forEach(function(n){n.node.parents.push(e),e.children.push(n)})}},{key:"addChildren",value:function(e){var n=this;e.forEach(function(e){n.addChild(e)})}}]),e}(),Relation=function e(n){var a=arguments.length<=1||void 0===arguments[1]?0:arguments[1];_classCallCheck(this,e),this.node=n,this.value=a},AHP=function(){function e(n){_classCallCheck(this,e),this.tree=n,this.leaves=[]}return _createClass(e,[{key:"createLeaves",value:function(){this.nextNodes(this.tree,1)}},{key:"nextNodes",value:function(e,n){var a=this;if(console.log(e.node,e.value,e.value*n),e.node.children.forEach(function(e){var t=e.value*n;a.nextNodes(e,t)}),!e.node.children.length){var t=this.getLeaf(e.node);t?t.value*=n:this.leaves.push({node:e.node,value:e.value*n})}}},{key:"hasLeaf",value:function(e){var n=!1;return this.leaves.forEach(function(a){a.node===e&&(n=!0)}),n}},{key:"getLeaf",value:function(e){var n=!1;return this.leaves.forEach(function(a){a.node===e&&(n=a)}),n}},{key:"makeRanking",value:function(){this.createLeaves(),this.leaves.sort(function(e,n){return n.value-e.value});var e=[],n=[];return this.leaves.forEach(function(a){var t="OK";for(var r in n)-1!=a.node.name.indexOf(n[r])&&(t="BAD");"OK"===t&&a.node.name.split("-").forEach(function(e){n.push(e)}),e.push({leaf:a,status:t})}),e}}]),e}();
